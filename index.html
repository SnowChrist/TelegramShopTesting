<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name = "viewport" content="width=device-width, initial-scale = 1.0">
        <link rel="stylesheet" href="style.css">
        <title>Telegram Shop</title>
    </head>
    <body>
        <div class = "card" data-id= "1">
            <img src = "img\OniMask.png">
            <p>Price - 30$</p>
        </div>
        <div class = "card" data-id= "2">
            <img src = "img\OniMask2.png">
            <p>Price - 25$</p>
        </div>
        
        <input type = "hidden" value = "" id = "cart">
        
        <script src="https://telegram.org/js/telegram-web-app.js"></script>
            <script>
                let tg = Telegram.WebApp;
                tg.expand();
                tg.MainButton.setText("Send an order");
                tg.MainButton.textColor = "#FFFFFF";
                tg.MainButton.color = "#D40D0D";
            
                //let btn = document.querySelector("#btn");
            
                tg.MainButton.show();
            
                let cards = document.querySelectorAll('.card')
            
                for (let card of cards){
                    card.addEventListener('click', function(){
                    document.querySelector('#cart').value += ", " + card.dataset.id 
                    //console.log(document.querySelector('#cart').value) - поверка работы в консоли
                    })
                }
            
                Telegram.WebApp.onEvent('mainButtonClicked', function(){
                    tg.sendData(document.querySelector('#cart').value);
                })
            </script>
    </body>
</html>
